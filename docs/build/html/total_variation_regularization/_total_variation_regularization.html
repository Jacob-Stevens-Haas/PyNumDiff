

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>_total_variation_regularization &mdash; PyNumDiff 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="utils" href="../utils.html" />
    <link rel="prev" title="total_variation_regularization" href="../total_variation_regularization.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PyNumDiff
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../code.html">API documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../finite_difference.html">finite_difference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kalman_smooth.html">kalman_smooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../linear_model.html">linear_model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../smooth_finite_difference.html">smooth_finite_difference</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../total_variation_regularization.html">total_variation_regularization</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">_total_variation_regularization</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../utils.html">utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">How to contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LICENSE.html">License</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyNumDiff</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../code.html">API documentation</a> &raquo;</li>
        
          <li><a href="../total_variation_regularization.html">total_variation_regularization</a> &raquo;</li>
        
      <li>_total_variation_regularization</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/total_variation_regularization/_total_variation_regularization.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-pynumdiff.total_variation_regularization._total_variation_regularization">
<span id="total-variation-regularization"></span><h1>_total_variation_regularization<a class="headerlink" href="#module-pynumdiff.total_variation_regularization._total_variation_regularization" title="Permalink to this headline">¶</a></h1>
<p>This module implements some common total variation regularization methods</p>
<dl class="py function">
<dt id="pynumdiff.total_variation_regularization._total_variation_regularization.acceleration">
<code class="sig-prename descclassname"><span class="pre">pynumdiff.total_variation_regularization._total_variation_regularization.</span></code><code class="sig-name descname"><span class="pre">acceleration</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pynumdiff.total_variation_regularization._total_variation_regularization.acceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>Use convex optimization (cvxpy) to solve for the acceleration total variation regularized derivative.
Default solver is MOSEK: <a class="reference external" href="https://www.mosek.com/">https://www.mosek.com/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em><em> (</em><em>float</em><em>)</em>) – array of time series to differentiate</p></li>
<li><p><strong>dt</strong> (<em>float</em>) – time step size</p></li>
<li><p><strong>params</strong> (<em>list</em><em> (</em><em>float</em><em>) or </em><em>float</em>) – [gamma], where gamma (float) is the regularization parameter
or if ‘iterate’ in options: [gamma, num_iterations]</p></li>
<li><p><strong>options</strong> (<em>dict {'solver': SOLVER}</em><em>, </em><em>optional</em>) – {‘solver’: SOLVER} SOLVER options include: ‘MOSEK’ and ‘CVXOPT’,
in testing, ‘MOSEK’ was the most robust.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>a tuple consisting of:</p>
<ul class="simple">
<li><p>x_hat: estimated (smoothed) x</p></li>
<li><p>dxdt_hat: estimated derivative of x</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple -&gt; (np.array, np.array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pynumdiff.total_variation_regularization._total_variation_regularization.iterative_velocity">
<code class="sig-prename descclassname"><span class="pre">pynumdiff.total_variation_regularization._total_variation_regularization.</span></code><code class="sig-name descname"><span class="pre">iterative_velocity</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pynumdiff.total_variation_regularization._total_variation_regularization.iterative_velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Use an iterative solver to find the total variation regularized 1st derivative.
See __chartrand_tvregdiff__.py for details, author info, and license
Methods described in: Rick Chartrand, “Numerical differentiation of noisy, nonsmooth data,”
ISRN Applied Mathematics, Vol. 2011, Article ID 164564, 2011.
Original code (MATLAB and python):  <a class="reference external" href="https://sites.google.com/site/dnartrahckcir/home/tvdiff-code">https://sites.google.com/site/dnartrahckcir/home/tvdiff-code</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em><em> (</em><em>float</em><em>)</em>) – array of time series to differentiate</p></li>
<li><p><strong>dt</strong> (<em>float</em>) – time step size</p></li>
<li><p><strong>params</strong> (<em>list</em><em> (</em><em>int</em><em>, </em><em>float</em><em>)</em>) – <p>a list consisting of:</p>
<ul>
<li><p>iterations: Number of iterations to run the solver. More iterations results in blockier derivatives, which approach the convex result</p></li>
<li><p>gamma: Regularization parameter.</p></li>
</ul>
</p></li>
<li><p><strong>options</strong> (<em>dict {'cg_maxiter':</em><em> (</em><em>int</em><em>)</em><em>, </em><em>'scale':</em><em> (</em><em>string</em><em>)</em><em>}</em><em>, </em><em>optional</em>) – <p>a dictionary with 2 key value pairs</p>
<ul>
<li><p>’cg_maxiter’: Max number of iterations to use in scipy.sparse.linalg.cg. Default is None, results in maxiter = len(x). This works well in our test examples.</p></li>
<li><p>’scale’: This method has two different numerical options. From __chartrand_tvregdiff__.py: ‘large’ or ‘small’ (case insensitive).  Default is ‘small’.  ‘small’ has somewhat better boundary behavior, but becomes unwieldly for data larger than 1000 entries or so.  ‘large’ has simpler numerics but is more efficient for large-scale problems. ‘large’ is more readily modified for higher-order derivatives, since the implicit differentiation matrix is square.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>a tuple consisting of:</p>
<ul class="simple">
<li><p>x_hat: estimated (smoothed) x</p></li>
<li><p>dxdt_hat: estimated derivative of x</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple -&gt; (np.array, np.array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pynumdiff.total_variation_regularization._total_variation_regularization.jerk">
<code class="sig-prename descclassname"><span class="pre">pynumdiff.total_variation_regularization._total_variation_regularization.</span></code><code class="sig-name descname"><span class="pre">jerk</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pynumdiff.total_variation_regularization._total_variation_regularization.jerk" title="Permalink to this definition">¶</a></dt>
<dd><p>Use convex optimization (cvxpy) to solve for the jerk total variation regularized derivative.
Default solver is MOSEK: <a class="reference external" href="https://www.mosek.com/">https://www.mosek.com/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em><em> (</em><em>float</em><em>)</em>) – array of time series to differentiate</p></li>
<li><p><strong>dt</strong> (<em>float</em>) – time step size</p></li>
<li><p><strong>params</strong> (<em>list</em><em> (</em><em>float</em><em>) or </em><em>float</em>) – [gamma], where gamma (float) is the regularization parameter
or if ‘iterate’ in options: [gamma, num_iterations]</p></li>
<li><p><strong>options</strong> (<em>dict {'solver': SOLVER}</em><em>, </em><em>optional</em>) – {‘solver’: SOLVER} SOLVER options include: ‘MOSEK’ and ‘CVXOPT’,
in testing, ‘MOSEK’ was the most robust.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>a tuple consisting of:</p>
<ul class="simple">
<li><p>x_hat: estimated (smoothed) x</p></li>
<li><p>dxdt_hat: estimated derivative of x</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple -&gt; (np.array, np.array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pynumdiff.total_variation_regularization._total_variation_regularization.jerk_sliding">
<code class="sig-prename descclassname"><span class="pre">pynumdiff.total_variation_regularization._total_variation_regularization.</span></code><code class="sig-name descname"><span class="pre">jerk_sliding</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pynumdiff.total_variation_regularization._total_variation_regularization.jerk_sliding" title="Permalink to this definition">¶</a></dt>
<dd><p>Use convex optimization (cvxpy) to solve for the jerk total variation regularized derivative.
Default solver is MOSEK: <a class="reference external" href="https://www.mosek.com/">https://www.mosek.com/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em><em> (</em><em>float</em><em>)</em>) – array of time series to differentiate</p></li>
<li><p><strong>dt</strong> (<em>float</em>) – time step size</p></li>
<li><p><strong>params</strong> (<em>list</em><em> (</em><em>float</em><em>) or </em><em>float</em>) – [gamma], where gamma (float) is the regularization parameter
or if ‘iterate’ in options: [gamma, num_iterations]</p></li>
<li><p><strong>options</strong> (<em>dict {'solver': SOLVER}</em><em>, </em><em>optional</em>) – {‘solver’: SOLVER} SOLVER options include: ‘MOSEK’ and ‘CVXOPT’,
in testing, ‘MOSEK’ was the most robust.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>a tuple consisting of:</p>
<ul class="simple">
<li><p>x_hat: estimated (smoothed) x</p></li>
<li><p>dxdt_hat: estimated derivative of x</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple -&gt; (np.array, np.array)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pynumdiff.total_variation_regularization._total_variation_regularization.smooth_acceleration">
<code class="sig-prename descclassname"><span class="pre">pynumdiff.total_variation_regularization._total_variation_regularization.</span></code><code class="sig-name descname"><span class="pre">smooth_acceleration</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pynumdiff.total_variation_regularization._total_variation_regularization.smooth_acceleration" title="Permalink to this definition">¶</a></dt>
<dd><p>? ? ?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – </p></li>
<li><p><strong>dt</strong> – </p></li>
<li><p><strong>params</strong> – </p></li>
<li><p><strong>options</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pynumdiff.total_variation_regularization._total_variation_regularization.velocity">
<code class="sig-prename descclassname"><span class="pre">pynumdiff.total_variation_regularization._total_variation_regularization.</span></code><code class="sig-name descname"><span class="pre">velocity</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pynumdiff.total_variation_regularization._total_variation_regularization.velocity" title="Permalink to this definition">¶</a></dt>
<dd><p>Use convex optimization (cvxpy) to solve for the velocity total variation regularized derivative.
Default solver is MOSEK: <a class="reference external" href="https://www.mosek.com/">https://www.mosek.com/</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>np.array</em><em> (</em><em>float</em><em>)</em>) – array of time series to differentiate</p></li>
<li><p><strong>dt</strong> (<em>float</em>) – time step size</p></li>
<li><p><strong>params</strong> (<em>list</em><em> (</em><em>float</em><em>) or </em><em>float</em>) – [gamma], where gamma (float) is the regularization parameter
or if ‘iterate’ in options: [gamma, num_iterations]</p></li>
<li><p><strong>options</strong> (<em>dict {'solver': SOLVER}</em><em>, </em><em>optional</em>) – {‘solver’: SOLVER} SOLVER options include: ‘MOSEK’ and ‘CVXOPT’,
in testing, ‘MOSEK’ was the most robust.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p>a tuple consisting of:</p>
<ul class="simple">
<li><p>x_hat: estimated (smoothed) x</p></li>
<li><p>dxdt_hat: estimated derivative of x</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple -&gt; (np.array, np.array)</p>
</dd>
</dl>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../utils.html" class="btn btn-neutral float-right" title="utils" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../total_variation_regularization.html" class="btn btn-neutral float-left" title="total_variation_regularization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Floris van Breugel, Yuying Liu.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>